p8131\_hw4\_jsg2145
================
Jared Garfinkel
2/20/2020

``` r
df_low = tibble(
  conx = rep(c("low", "high"), 3),
  hous_tp = rep(c("tr_bk", "apt", "hous"), each = 2),
  values = c(65, 34, 130, 141, 67, 130)
) %>% 
  mutate(sat = "low")

df_med = tibble(
  conx = rep(c("low", "high"), 3),
  hous_tp = rep(c("tr_bk", "apt", "hous"), each = 2),
  values = c(54, 47, 76, 116, 48, 105)
) %>% 
  mutate(sat = "med")

df_high = tibble(
  conx = rep(c("low", "high"), 3),
  hous_tp = rep(c("tr_bk", "apt", "hous"), each = 2),
  values = c(100, 100, 111, 191, 62, 104)
) %>% 
  mutate(sat = "high")

df = union(df_low, df_med) %>% 
  union(df_high) %>% 
  pivot_wider(names_from = sat, values_from = values) %>% 
  group_by(conx, hous_tp) %>% 
  mutate(n = sum(low, med, high)) %>% 
  summarize(low_pct = round(low/n*100, digits = 0),
            med_pct = round(med/n*100, digits = 0),
            high_pct = round(high/n*100, digits = 0)
  ) %>% 
  group_by(conx, hous_tp) %>% 
  mutate(total = sum(low_pct, med_pct, high_pct))
```

``` r
df %>% knitr::kable()
```

| conx | hous\_tp | low\_pct | med\_pct | high\_pct | total |
| :--- | :------- | -------: | -------: | --------: | ----: |
| high | apt      |       31 |       26 |        43 |   100 |
| high | hous     |       38 |       31 |        31 |   100 |
| high | tr\_bk   |       19 |       26 |        55 |   100 |
| low  | apt      |       41 |       24 |        35 |   100 |
| low  | hous     |       38 |       27 |        35 |   100 |
| low  | tr\_bk   |       30 |       25 |        46 |   101 |
